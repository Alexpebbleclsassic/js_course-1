{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","res","status","json","Promise","reject","catch","console","log","rej","myIp","Dom","lat","document","getElementById","long","btn","crd","value","latitude","longitude","locationApi","dom","addEventListener","getMyIp","getMyLocation","ip","setCoordinates"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEAA;;;;AACA;;;;;;AAEA,IAAMuB,cAAc,IAAIvB,sBAAJ,EAApB;AACA,IAAMwB,MAAM,IAAIX,aAAJ,EAAZ;AACA,IAAMK,MAAMH,SAASC,cAAT,CAAwB,KAAxB,CAAZ;;AAEAE,IAAIO,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAChCF,gBAAYG,OAAZ,GACCxB,IADD,CACM;AAAA,eAAOqB,YAAYI,aAAZ,CAA0BxB,IAAIyB,EAA9B,CAAP;AAAA,KADN,EAEC1B,IAFD,CAEM;AAAA,eAAOsB,IAAIK,cAAJ,CAAmB1B,GAAnB,CAAP;AAAA,KAFN;AAGH,CAJD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IFPqBH;;;;;;;kCACP;AACN,mBAAOC,MAAM,mCAAN,EACFC,IADE,CACG,eAAO;AACT,oBAAGC,IAAIC,MAAJ,KAAe,GAAlB,EAAuB;AACnB,2BAAOD,IAAIE,IAAJ,EAAP;AACH,iBAFD,MAEO;AACH,2BAAOC,QAAQC,MAAR,CAAeJ,IAAIC,MAAnB,CAAP;AACH;AACJ,aAPE,EAQFI,KARE,CAQI;AAAA,uBAAOC,QAAQC,GAAR,CAAY,qCAAqCC,GAAjD,CAAP;AAAA,aARJ,CAAP;AASH;;;sCAEaC,MAAM;AAChB,mBAAOX,sCAAoCW,IAApC,EACFV,IADE,CACI,eAAO;AACV,oBAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,2BAAOD,IAAIE,IAAJ,EAAP;AACH;AACJ,aALE;AAMH;AANG,aAOFG,KAPE,CAOI;AAAA,uBAAOC,QAAQC,GAAR,CAAY,kDAAkDC,GAA9D,CAAP;AAAA,aAPJ,CAAP;AAQH;;;;;;kBAtBgBX;AAuBpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICvBoBa;AACjB,mBAAc;AAAA;;AACV,YAAMC,MAAMC,SAASC,cAAT,CAAwB,KAAxB,CAAZ;AACA,YAAMC,OAAOF,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA,YAAME,MAAMH,SAASC,cAAT,CAAwB,KAAxB,CAAZ;AACH;;;;uCAEcG,KAAK;AAChBL,gBAAIM,KAAJ,GAAYD,IAAIE,QAAhB;AACAJ,iBAAKG,KAAL,GAAaD,IAAIG,SAAjB;AACH;;;;;;kBAVgBT","file":"lesson_21.e2903b74.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n    getMyIp() {\r\n        return fetch('https://api.ipify.org?format=json')\r\n            .then(res => {\r\n                if(res.status === 200) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(res.status);\r\n                }\r\n            })\r\n            .catch(rej => console.log('Получение IP не удалось. Error: ' + rej));\r\n    };\r\n    \r\n    getMyLocation(myIp) {\r\n        return fetch(`https://freegeoip.net/json/${myIp}`)\r\n            .then (res => {\r\n                if (res.status === 200) {\r\n                    return res.json();\r\n                }\r\n            })\r\n            // .then(res => console.log(res.latitude, res.longitude))\r\n            .catch(rej => console.log('Получение координат по IP не удалось. Error: ' + rej));\r\n    }\r\n};","export default class Dom {\r\n    constructor() {\r\n        const lat = document.getElementById('lat');\r\n        const long = document.getElementById('long');\r\n        const btn = document.getElementById('btn');\r\n    }\r\n\r\n    setCoordinates(crd) {\r\n        lat.value = crd.latitude;\r\n        long.value = crd.longitude;\r\n    }\r\n}","import LocationApi from './location_api';\r\nimport Dom from './dom';\r\n\r\nconst locationApi = new LocationApi();\r\nconst dom = new Dom();\r\nconst btn = document.getElementById('btn');\r\n\r\nbtn.addEventListener('click', () => {\r\n    locationApi.getMyIp()\r\n    .then(res => locationApi.getMyLocation(res.ip))\r\n    .then(res => dom.setCoordinates(res));\r\n})\r\n"]}