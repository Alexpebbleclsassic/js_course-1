{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","res","status","json","Promise","reject","catch","console","log","rej","myIp","Dom","lat","document","getElementById","long","city","country","hover","circle1","crd","value","latitude","longitude","country_name","locationApi","dom","btn","addEventListener","getMyIp","getMyLocation","ip","setCoordinates"],"mappings":"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","file":"lesson_21.e2903b74.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n    getMyIp() {\r\n        return fetch('https://api.ipify.org?format=json')\r\n            .then(res => {\r\n                if(res.status === 200) {\r\n                    return res.json();\r\n                } else {\r\n                    return Promise.reject(res.status);\r\n                }\r\n            })\r\n            .catch(rej => console.log('Получение IP не удалось. Error: ' + rej));\r\n    };\r\n    \r\n    getMyLocation(myIp) {\r\n        return fetch(`https://freegeoip.net/json/${myIp}`)\r\n            .then (res => {\r\n                if (res.status === 200) {\r\n                    return res.json();\r\n                }\r\n            })\r\n            // .then(res => console.log(res.latitude, res.longitude))\r\n            .catch(rej => console.log('Получение координат по IP не удалось. Error: ' + rej));\r\n    }\r\n};","export default class Dom {\r\n    constructor() {\r\n        const lat = document.getElementById('lat');\r\n        const long = document.getElementById('long');\r\n        const city = document.getElementById('city');\r\n        const country = document.getElementById('country');\r\n\r\n        const hover = document.getElementById('hover');\r\n        const circle1 = document.getElementById('circle1');\r\n    }\r\n\r\n    setCoordinates(crd) {\r\n        lat.value = crd.latitude;\r\n        long.value = crd.longitude;\r\n        city.value = crd.city;\r\n        country.value = crd.country_name;\r\n    }\r\n}","import LocationApi from './location_api';\r\nimport Dom from './dom';\r\n\r\nconst locationApi = new LocationApi();\r\nconst dom = new Dom();\r\nconst btn = document.getElementById('btn');\r\n\r\nbtn.addEventListener('click', () => {\r\n    locationApi.getMyIp()\r\n    .then(res => locationApi.getMyLocation(res.ip))\r\n    .then(res => dom.setCoordinates(res));\r\n})\r\n"]}